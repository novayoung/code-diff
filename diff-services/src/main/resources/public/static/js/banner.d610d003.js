(window.webpackJsonp=window.webpackJsonp||[]).push([["banner"],{"+WJj":function(e,t,a){},"/MHh":function(e,t,a){"use strict";a.r(t);var i=a("pRfh"),o=a.n(i),n=a("KN1l"),r=a.n(n),s=a("clYf"),l=a.n(s),c=a("Nlzp"),u=a("ypfw"),d={props:{dialogData:{type:Object,default:function(){}}},data:function(){return{tableData:[],isUploadLoading:!1,info:{},formRules:{},isloading:!1}},computed:{isEdit:function(){return!(!this.dialogData||!this.dialogData.id)},userPic:function(){return this.info.enclosures?this.info.enclosures.filter(function(e){return 1==e.type}).map(function(e){return{url:e.url,type:1}}):[]}},watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){this.pullData()},methods:{initData:function(){this.tableData=this.dialogData.tableData},pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isloading=!0,!e.isEdit){t.next=6;break}return t.next=4,c.a.sandbox.getModuleList(e.dialogData);case 4:1!==(a=t.sent).code?e.$message(a.message):e.tableData=a.data;case 6:e.isloading=!1;case 7:case"end":return t.stop()}},t,e)}))()},resetForm:function(){this.$refs.refForm.resetFields()},changeActiveState:function(e,t){var a=this;return l()(o.a.mark(function i(){var n;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t?"激活":"冻结",a.$confirm("确定"+n+"模块: "+e.id+"?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(o.a.mark(function i(){var r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.sandbox.changeModuleActiveState({id:a.dialogData.id,moduleId:e.id,state:t});case 2:1===(r=i.sent).code?(a.$message({type:"success",message:e.id+" 模块"+n+"成功"}),e.isActivated=t?"ACTIVE":"FROZEN"):a.$message({type:"error",message:r.message});case 4:case"end":return i.stop()}},i,a)}))).catch(function(e){return e});case 2:case"end":return i.stop()}},i,a)}))()},changeLoadedState:function(e,t){var a=this;return l()(o.a.mark(function i(){var n;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t?"加载":"卸载",a.$confirm("确定"+n+"模块: "+e.id+"?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(o.a.mark(function i(){var r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.sandbox.changeModuleLoadedState({id:a.dialogData.id,moduleId:e.id,state:t});case 2:1===(r=i.sent).code?(a.$message({type:"success",message:e.id+" 模块"+n+"成功"}),e.isLoaded=t?"LOADED":"UNLOADED"):a.$message({type:"error",message:r.message});case 4:case"end":return i.stop()}},i,a)}))).catch(function(e){return e});case 2:case"end":return i.stop()}},i,a)}))()}}},p=(a("2+Ds"),a("QYey")),f=Object(p.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public",staticStyle:{height:"300px"}},[a("el-table",{attrs:{border:"",data:e.tableData,stripe:!0,height:"100%"}},[a("el-table-column",{attrs:{fixed:"",label:"模块id",width:"150",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"激活状态",width:"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["ACTIVE"===t.row.isActivated?a("el-tag",{attrs:{type:"success"}},[e._v("已激活")]):a("el-tag",{attrs:{type:"danger"}},[e._v("已冻结")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"加载状态",width:"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["LOADED"===t.row.isLoaded?a("el-tag",{attrs:{type:"success"}},[e._v("已加载")]):a("el-tag",{attrs:{type:"danger"}},[e._v("未加载")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"形变类","show-overflow-tooltip":"",width:"80",prop:"cCnt"}}),e._v(" "),a("el-table-column",{attrs:{label:"形变方法",width:"80",prop:"mCnt"}}),e._v(" "),a("el-table-column",{attrs:{label:"作者",prop:"author",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return["ACTIVE"===t.row.isActivated?a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.changeActiveState(t.row,!1)}}},[e._v("\n            冻结\n          ")]):a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.changeActiveState(t.row,!0)}}},[e._v("\n            激活\n          ")]),e._v(" "),"LOADED"===t.row.isLoaded?a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.changeLoadedState(t.row,!1)}}},[e._v("\n            卸载\n          ")]):a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.changeLoadedState(t.row,!0)}}},[e._v("\n            加载\n          ")])]}}])})],1)],1)},[],!1,null,"7491333f",null);f.options.__file="moduleDetail.vue";var m=f.exports,g=a("Drt1"),v={props:{dialogData:{type:Object,default:function(){}}},data:function(){return{isUploadLoading:!1,info:{},policeStations:[],formRules:{env:[{required:!0,message:"必填项",trigger:"blur"}],serverName:[{required:!0,message:"必填项",trigger:"blur"}],host:[{required:!0,message:"必填项",trigger:"blur"}],project:[{required:!0,message:"必填项",trigger:"blur"}]},isloading:!1}},computed:r()({isEdit:function(){return!(!this.dialogData||!this.dialogData.id)}},Object(g.b)(["userInfo"])),watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){var e=this;return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.pullData();case 1:case"end":return t.stop()}},t,e)}))()},methods:{pullData:function(){this.info=this.dialogData?this.dialogData:{}},resetForm:function(){this.$refs.refForm.resetFields()},submitForm:function(e){var t=this;this.$refs.refForm.validate(function(){var a=l()(o.a.mark(function a(i){var n,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=10;break}return n=r()({},t.info),a.next=4,c.a.sandbox.insertOrUpdate(n);case 4:return s=a.sent,t.$emit("changeLoading"),1===s.code?(t.$message({type:"success",message:"提交成功!"}),e(s)):t.$message({type:"error",message:s.message}),a.abrupt("return",!0);case 10:return t.$emit("changeLoading"),a.abrupt("return",!1);case 12:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}())}}},h=(a("bmHV"),Object(p.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public"},[a("el-form",{ref:"refForm",attrs:{inline:!0,model:e.info,rules:e.formRules,size:"mini","label-width":"130px"}},[e.info.id?a("el-form-item",{attrs:{label:"id",prop:"id"}},[a("el-input",{attrs:{clearable:"",disabled:!0},model:{value:e.info.id,callback:function(t){e.$set(e.info,"id","string"==typeof t?t.trim():t)},expression:"info.id"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"环境",prop:"env"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入环境名称"},model:{value:e.info.env,callback:function(t){e.$set(e.info,"env","string"==typeof t?t.trim():t)},expression:"info.env"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入服务名称"},model:{value:e.info.serverName,callback:function(t){e.$set(e.info,"serverName","string"==typeof t?t.trim():t)},expression:"info.serverName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属项目组",prop:"project"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入项目组名称"},model:{value:e.info.project,callback:function(t){e.$set(e.info,"project","string"==typeof t?t.trim():t)},expression:"info.project"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"host",prop:"host"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入应用服务器IP地址"},model:{value:e.info.host,callback:function(t){e.$set(e.info,"host","string"==typeof t?t.trim():t)},expression:"info.host"}})],1),e._v(" "),e.info.aideServerPort?a("el-form-item",{attrs:{label:"adie服务端口",prop:"aideServerPort"}},[a("el-input",{attrs:{clearable:""},model:{value:e.info.aideServerPort,callback:function(t){e.$set(e.info,"aideServerPort","string"==typeof t?t.trim():t)},expression:"info.aideServerPort"}})],1):e._e(),e._v(" "),e.info.serverPid?a("el-form-item",{attrs:{label:"服务进程id",prop:"serverPid"}},[a("el-input",{attrs:{clearable:""},model:{value:e.info.serverPid,callback:function(t){e.$set(e.info,"serverPid","string"==typeof t?t.trim():t)},expression:"info.serverPid"}})],1):e._e(),e._v(" "),e.info.sandboxPort?a("el-form-item",{attrs:{label:"sandbox端口",prop:"sandboxPort"}},[a("el-input",{attrs:{clearable:""},model:{value:e.info.sandboxPort,callback:function(t){e.$set(e.info,"sandboxPort","string"==typeof t?t.trim():t)},expression:"info.sandboxPort"}})],1):e._e(),e._v(" "),e.info.sandboxNameSpace?a("el-form-item",{attrs:{label:"sandbox别名",prop:"sandboxNameSpace"}},[a("el-input",{attrs:{clearable:""},model:{value:e.info.sandboxNameSpace,callback:function(t){e.$set(e.info,"sandboxNameSpace","string"==typeof t?t.trim():t)},expression:"info.sandboxNameSpace"}})],1):e._e()],1)],1)},[],!1,null,"74a2490d",null));h.options.__file="addEdit.vue";var b=h.exports,_=a("BJL/"),y=(a("8SHQ"),{name:"sandbox",components:{detail:m,addEdit:b,repeaterAddEdit:_.a},directives:{elDragDialog:u.a},data:function(){return{formData:{env:null,host:null,serverName:null,project:null},tableData:[],pageSet:{currentPage:1,pageSize:this.$GConfig.pageSize,totalCount:0},buttonLoading:!1,closeOnClickModal:!1,dialogFormVisible:!1,isEdit:!1,isConfigEdit:!1,dialogData:{},title:"",isLoading:!1}},activated:function(){},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,c.a.sandbox.getList(r()({},e.pageSet,e.formData));case 3:1===(a=t.sent).code?(e.tableData=a.data,e.pageSet.totalCount=a.page.total>>0):e.$message({type:"error",message:a.message}),e.isLoading=!1;case 6:case"end":return t.stop()}},t,e)}))()},moduleDetail:function(e){var t=this;this.isLoading=!0,this.dialogData={id:e.id},this.title="模块信息",this.$nextTick(function(){t.dialogFormVisible=!0,t.isEdit=!1}),this.isLoading=!1},addEdit:function(e){var t=this;this.dialogData=e||null,this.title="详情",this.$nextTick(function(){t.dialogFormVisible=!0,t.isEdit=!0})},repeaterAddEdit:function(e){var t=this;this.dialogData=e||null,this.title="repeater配置编辑页",this.$nextTick(function(){t.isConfigEdit=!0})},del:function(e){var t=this;this.$confirm("你确定要删除这条数据?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(o.a.mark(function a(){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.user.student.delete({id:e.id});case 2:1===(i=a.sent).code?(t.$message({type:"success",message:"删除成功!"}),t.pullData()):t.$message({type:"error",message:i.message});case 4:case"end":return a.stop()}},a,t)})))},submitForm:function(){var e=this;this.buttonLoading=!0,this.$refs.dialogForm.submitForm(function(){e.dialogFormVisible=!1,e.isEdit=!1,e.isConfigEdit=!1,e.pullData()})},changeLoading:function(){this.buttonLoading=!1},getSelect:function(){this.$set(this.pageSet,"currentPage",1),this.pullData()},resetForm:function(e){this.$refs[e].resetFields(),this.$set(this.pageSet,"currentPage",1),this.pullData()},handleCurrentChange:function(e){this.$set(this.pageSet,"currentPage",e),this.pullData()},changeState:function(e,t){var a=this;return l()(o.a.mark(function i(){var n;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t?"启用":"禁用",a.$confirm("确定"+n+" sandbox?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(o.a.mark(function i(){var r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r=void 0,!t){i.next=7;break}return i.next=4,c.a.sandbox.startSandbox({id:e.id});case 4:r=i.sent,i.next=10;break;case 7:return i.next=9,c.a.sandbox.shutdownSandbox({id:e.id});case 9:r=i.sent;case 10:1===r.code?(a.$message({type:"success",message:"sandbox "+n+"成功!"}),e.sandboxStatus=t):a.$message({type:"error",message:r.message});case 11:case"end":return i.stop()}},i,a)}))).catch(function(e){return e});case 2:case"end":return i.stop()}},i,a)}))()}}}),w=(a("5sUr"),Object(p.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-container"},[a("div",{staticClass:"search-box-public"},[a("el-form",{ref:"refFormName",attrs:{inline:!0,model:e.formData,size:"mini"}},[a("el-row",[a("el-form-item",{attrs:{label:"环境",prop:"env"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.env,callback:function(t){e.$set(e.formData,"env","string"==typeof t?t.trim():t)},expression:"formData.env"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属项目组",prop:"project"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.project,callback:function(t){e.$set(e.formData,"project","string"==typeof t?t.trim():t)},expression:"formData.project"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.serverName,callback:function(t){e.$set(e.formData,"serverName","string"==typeof t?t.trim():t)},expression:"formData.serverName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP",prop:"host"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.host,callback:function(t){e.$set(e.formData,"host","string"==typeof t?t.trim():t)},expression:"formData.host"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getSelect()}}},[e._v("查询")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("add"),expression:"$getBtnCode('add')"}],attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addEdit()}}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"table-box-public"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{border:"",data:e.tableData,stripe:!0,height:"100%"}},[a("el-table-column",{attrs:{fixed:"",label:"编号",width:"50",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"环境","show-overflow-tooltip":"",width:"100",prop:"env"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属项目组",width:"100","show-overflow-tooltip":"",prop:"project"}}),e._v(" "),a("el-table-column",{attrs:{label:"服务名称",width:"280","show-overflow-tooltip":"",prop:"serverName"}}),e._v(" "),a("el-table-column",{attrs:{label:"应用服务器IP","show-overflow-tooltip":"",width:"120",prop:"host"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.createTime))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",prop:"modifyTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.modifyTime))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sandboxStatus?a("el-tag",{attrs:{type:"success"}},[e._v("启用")]):a("el-tag",{attrs:{type:"danger"}},[e._v("禁用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sandboxStatus?a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.changeState(t.row,!1)}}},[e._v("\n            禁用\n          ")]):a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.changeState(t.row,!0)}}},[e._v("\n            启用\n          ")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.moduleDetail(t.row)}}},[e._v("查看模块信息")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.addEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.repeaterAddEdit(t.row)}}},[e._v("新增repeater配置")])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticClass:"pagination-style-public",attrs:{"current-page":e.pageSet.currentPage,"page-sizes":[100,200,300,400],"page-size":e.pageSet.pageSize,total:e.pageSet.totalCount,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}}),e._v(" "),e.dialogFormVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.dialogFormVisible,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,width:"850px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[e.isEdit||e.isConfigEdit?e._e():a("detail",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}),e._v(" "),e.isEdit?a("addEdit",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.dialogFormVisible=!1,e.isEdit=!1}}},[e._v("取 消")]),e._v(" "),e.isEdit?a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n        确定\n      ")]):e._e()],1)],1):e._e(),e._v(" "),e.isConfigEdit?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.isConfigEdit,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isConfigEdit=t}}},[e.isConfigEdit?a("repeaterAddEdit",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.isConfigEdit=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n        确定\n      ")])],1)],1):e._e()],1)},[],!1,null,"fb759eca",null));w.options.__file="list.vue";t.default=w.exports},"1i7/":function(e,t,a){"use strict";var i=a("4ZuL");a.n(i).a},"1r8N":function(e,t,a){"use strict";a.r(t);var i=a("pRfh"),o=a.n(i),n=a("KN1l"),r=a.n(n),s=a("clYf"),l=a.n(s),c=a("Nlzp"),u=a("ypfw"),d=a("pIae"),p={components:{jsonView:a.n(d).a},props:{dialogData:{type:Object,default:function(){}}},data:function(){return{detail_info:{},isloading:!1,activeNames:["1","2"],activeName:"req",isJsonData:!1,json:{}}},computed:{},watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isloading=!0,t.next=3,c.a.repeater.getFlowDetail(e.dialogData);case 3:if(1!==(a=t.sent).code)e.$message(a.message);else{e.detail_info=a.data?a.data:{};try{e.detail_info.request=JSON.parse(e.detail_info.request),e.isJsonData=!0}catch(t){e.isJsonData=!1}}e.isloading=!1;case 6:case"end":return t.stop()}},t,e)}))()},handleClick:function(e,t){switch(e.name){case"req":"string"==typeof this.detail_info.request?this.isJsonData=!1:this.isJsonData=!0;break;case"res":if("string"==typeof this.detail_info.response)try{this.detail_info.response=JSON.parse(this.detail_info.response),this.isJsonData=!0}catch(e){this.isJsonData=!1}else this.isJsonData=!0;break;case"subInvoke":if("string"==typeof this.detail_info.subInvocations)try{this.detail_info.subInvocations=JSON.parse(this.detail_info.subInvocations),this.isJsonData=!0}catch(e){this.isJsonData=!1}else this.isJsonData=!0}},resetForm:function(){}}},f=(a("yetg"),a("QYey")),m=Object(f.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public",staticStyle:{height:"600px"}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("el-tag",{attrs:{effect:"dark",size:"medium"}},[e._v("基础信息")])],1),e._v(" "),a("div",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticClass:"tittle",attrs:{span:2,offset:2}},[e._v("应用名")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v(e._s(this.detail_info.appName))]),e._v(" "),a("el-col",{staticClass:"tittle",attrs:{span:2}},[e._v("流量入口")]),e._v(" "),a("el-col",{attrs:{span:10}},[e._v(e._s(this.detail_info.entranceDesc))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"tittle",attrs:{span:2,offset:2}},[e._v("录制机器")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v(e._s(this.detail_info.host))]),e._v(" "),a("el-col",{staticClass:"tittle",attrs:{span:2}},[e._v("TraceId\t")]),e._v(" "),a("el-col",{attrs:{span:10}},[e._v(e._s(this.detail_info.traceId))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"tittle",attrs:{span:2,offset:2}},[e._v("录制时间")]),e._v(" "),a("el-col",{attrs:{span:8}},[[e._v("\n                          "+e._s(e.$util.formatDate(this.detail_info.gmtCreate))+"\n                      ")]],2),e._v(" "),a("el-col",{staticClass:"tittle",attrs:{span:2}},[e._v("录制环境\t")]),e._v(" "),a("el-col",{attrs:{span:10}},[e._v(e._s(this.detail_info.environment))])],1)],1)],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("el-tag",{attrs:{effect:"dark",size:"medium",type:"warning"}},[e._v("调用信息")])],1),e._v(" "),[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"请求参数",name:"req"}},[e.isJsonData?[a("json-view",{attrs:{data:e.detail_info.request,deep:2,"line-height":20}})]:a("div",[e._v(e._s(e.detail_info.request?e.detail_info.request:"暂无数据"))])],2),e._v(" "),a("el-tab-pane",{attrs:{label:"返回结果",name:"res"}},[e.isJsonData&&"res"==e.activeName?[a("json-view",{attrs:{data:e.detail_info.response,deep:2,"line-height":20}})]:a("div",[e._v(e._s(e.detail_info.response?e.detail_info.response:"暂无数据"))])],2),e._v(" "),a("el-tab-pane",{attrs:{label:"子调用信息",name:"subInvoke"}},[e.isJsonData&&"subInvoke"==e.activeName?[a("json-view",{attrs:{data:e.detail_info.subInvocations,deep:2,"line-height":20}})]:a("div",[e._v(e._s(e.detail_info.subInvocations?e.detail_info.subInvocations:"暂无数据"))])],2)],1)]],2)],1)],1)},[],!1,null,null,null);m.options.__file="flowDetail.vue";var g=m.exports,v={components:{},props:{dialogData:{type:Object,default:function(){}}},data:function(){return{info:{},isloading:!1,isCustomHost:!1}},computed:{},watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isloading=!0,t.next=3,c.a.repeater.getReplayConfig(e.dialogData);case 3:1!==(a=t.sent).code?e.$message(a.message):e.info=a.data?a.data:{},e.isloading=!1;case 6:case"end":return t.stop()}},t,e)}))()},radioHostChange:function(){this.info.useRecordHost?this.isCustomHost=!0:this.isCustomHost=!1},radioMockChange:function(){},submitForm:function(e){var t=this;return l()(o.a.mark(function a(){var i,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=r()({},t.info),a.next=3,c.a.repeater.execReplay(i);case 3:return n=a.sent,t.$emit("changeLoading"),1===n.code?(t.$message({type:"success",message:"回放成功!"}),e(n)):t.$message({type:"error",message:n.message}),a.abrupt("return",!0);case 7:case"end":return a.stop()}},a,t)}))()},resetForm:function(){this.$refs.replayForm.resetFields()}}},h=(a("2yvm"),Object(f.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public"},[a("el-form",{ref:"replayForm",attrs:{model:e.info,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"机器"}},[a("el-radio-group",{attrs:{change:e.radioHostChange()},model:{value:e.info.useRecordHost,callback:function(t){e.$set(e.info,"useRecordHost","string"==typeof t?t.trim():t)},expression:"info.useRecordHost"}},[a("el-radio",{attrs:{label:!0}},[e._v("录制机器")]),e._v(" "),a("el-radio",{attrs:{label:!1}},[e._v("自定义机器")])],1)],1),e._v(" "),e.info.useRecordHost?e._e():a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择回放的机器",disabled:e.isCustomHost},model:{value:e.info.selectedHost,callback:function(t){e.$set(e.info,"selectedHost","string"==typeof t?t.trim():t)},expression:"info.selectedHost"}},e._l(e.info.hostList,function(e){return a("el-option",{key:e.host,attrs:{label:e.host+"("+e.env+")"+(e.sandboxStatus?"":" 离线"),value:e.id,disabled:!e.sandboxStatus}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"MOCK"}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.info.enableMock,callback:function(t){e.$set(e.info,"enableMock",t)},expression:"info.enableMock"}})],1),e._v(" "),e.info.enableMock?a("el-form-item",{attrs:{label:"是否全部Mock"}},[a("el-radio-group",{attrs:{change:e.radioMockChange()},model:{value:e.info.enableAllMock,callback:function(t){e.$set(e.info,"enableAllMock","string"==typeof t?t.trim():t)},expression:"info.enableAllMock"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1):e._e(),e._v(" "),e.info.enableAllMock?e._e():a("el-form-item",[a("el-select",{staticStyle:{width:"270px","font-size":"xx-large"},attrs:{multiple:"",size:"medium",placeholder:"请选择需要Mock的子调用",filterable:""},model:{value:e.info.needMockSubInvokeList,callback:function(t){e.$set(e.info,"needMockSubInvokeList",t)},expression:"info.needMockSubInvokeList"}},e._l(e.info.subInvokeList,function(t){return a("el-option-group",{key:t.className,attrs:{label:t.className}},e._l(t.methods,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))}))],1)],1)],1)},[],!1,null,null,null));h.options.__file="replayConfigDetail.vue";var b=h.exports,_={components:{},props:{dialogData:{type:Object,default:function(){}}},data:function(){return{info:{},isloading:!1,isCustomHost:!1,appNameList:[],sandboxList:[],formRules:{httpEntrancePatterns:[{required:!0,message:"必填项",trigger:"blur"}],appName:[{required:!0,message:"必填项",trigger:"blur"}],selectedHost:[{required:!0,message:"必填项",trigger:"blur"}]},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]}}},computed:{},watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isloading=!0,t.next=3,c.a.repeater.getBatchAppNameList();case 3:1!==(a=t.sent).code?e.$message(a.message):e.appNameList=a.data?a.data:e.appNameList,e.isloading=!1;case 6:case"end":return t.stop()}},t,e)}))()},appNameChange:function(e){var t=this;return l()(o.a.mark(function a(){var i,n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.isloading=!0,i={appName:e},a.next=4,c.a.repeater.getBatchSandboxList(i);case 4:1!==(n=a.sent).code?t.$message(n.message):t.sandboxList=n.data?n.data:t.sandboxList,t.isloading=!1;case 7:case"end":return a.stop()}},a,t)}))()},radioHostChange:function(){this.info.useRecordHost?this.isCustomHost=!0:this.isCustomHost=!1},radioMockChange:function(){},submitForm:function(e){var t=this;return l()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$refs.batchReplayForm.validate(function(){var a=l()(o.a.mark(function a(i){var n,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=11;break}return(n=r()({},t.info)).recordList=t.dialogData.multipleSelection,a.next=5,c.a.repeater.execBatchReplay(n);case 5:return s=a.sent,t.$emit("changeLoading"),1===s.code?(t.$message({type:"success",message:"提交成功"}),t.$notify({title:"执行成功",message:s.message,offset:100,type:"success"}),e(s)):t.$message({type:"error",message:s.message}),a.abrupt("return",!0);case 11:return t.$emit("changeLoading"),a.abrupt("return",!1);case 13:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}},a,t)}))()},resetForm:function(){this.$refs.replayForm.resetFields()}}},y=(a("dSSv"),Object(f.a)(_,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public"},[a("el-form",{ref:"batchReplayForm",attrs:{inline:!0,size:"mini",rules:e.formRules,model:e.info,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"应用名",prop:"appName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.appNameChange},model:{value:e.info.appName,callback:function(t){e.$set(e.info,"appName",t)},expression:"info.appName"}},e._l(this.appNameList,function(e){return a("el-option",{key:e.serverName,attrs:{label:e.serverName,value:e.serverName}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Api",prop:"httpEntrancePatterns"}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","no-data-text":"请输入API匹配规则","default-first-option":"",placeholder:"支持通配符表达式"},model:{value:e.info.httpEntrancePatterns,callback:function(t){e.$set(e.info,"httpEntrancePatterns",t)},expression:"info.httpEntrancePatterns"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"录制时间"}},[a("el-date-picker",{attrs:{type:"datetimerange",size:"mini","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"center"},model:{value:e.info.date,callback:function(t){e.$set(e.info,"date",t)},expression:"info.date"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"回放机器",prop:"selectedHost"}},[a("el-select",{attrs:{placeholder:"请选择回放的机器"},model:{value:e.info.selectedHost,callback:function(t){e.$set(e.info,"selectedHost","string"==typeof t?t.trim():t)},expression:"info.selectedHost"}},e._l(this.sandboxList,function(e){return a("el-option",{key:e.host,attrs:{label:e.host+"("+e.env+")"+(e.sandboxStatus?"":" 离线"),value:e.id,disabled:!e.sandboxStatus}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"MOCK"}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.info.enableMock,callback:function(t){e.$set(e.info,"enableMock",t)},expression:"info.enableMock"}})],1)],1)],1)},[],!1,null,null,null));y.options.__file="batchReplayConfig.vue";var w=y.exports,x=(a("8SHQ"),a("xPQb"),{name:"repeater",components:{flowDetail:g,replayConfigDetail:b,batchReplayConfig:w},directives:{elDragDialog:u.a},data:function(){return{formData:{appName:null,traceId:null},tableData:[],pageSet:{currentPage:1,pageSize:this.$GConfig.pageSize,totalCount:0},buttonLoading:!1,closeOnClickModal:!1,dialogFormVisible:!1,replayDialogFormVisible:!1,batchReplayDialogFormVisible:!1,innerVisible:!1,dialogData:{},title:"",isLoading:!1,multipleSelection:[]}},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,c.a.repeater.getFlowList(r()({},e.pageSet,e.formData));case 3:1===(a=t.sent).code?(e.tableData=a.data,e.pageSet.totalCount=a.page.total>>0):e.$message({type:"error",message:a.message}),e.isLoading=!1;case 6:case"end":return t.stop()}},t,e)}))()},replayDetail:function(e){var t=this;return l()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.isLoading=!0,t.dialogData={id:e.id},t.title="回放配置",t.$nextTick(function(){t.replayDialogFormVisible=!0}),t.isLoading=!1;case 5:case"end":return a.stop()}},a,t)}))()},moduleDetail:function(e){var t=this;this.isLoading=!0,this.dialogData={id:e.id},this.title="调用详情",this.$nextTick(function(){t.dialogFormVisible=!0}),this.isLoading=!1},addEdit:function(e){var t=this,a=void 0;e&&((a=r()({},e)).config=JSON.parse(e.config)),this.dialogData=a||null,this.title="配置编辑页面",this.$nextTick(function(){t.dialogFormVisible=!0})},batchReplay:function(){var e=this;if(this.multipleSelection.length>0){var t="",a=!1;if(this.multipleSelection.map(function(i){""!=t&&t!=i.appName&&(e.$message({type:"error",message:"多条记录的appName必须相同!"}),a=!0),t=i.appName}),a)return}var i={multipleSelection:this.multipleSelection};this.dialogData=i,this.title="批量回放配置页面",this.$nextTick(function(){e.batchReplayDialogFormVisible=!0})},del:function(e){var t=this;this.$confirm("你确定要删除这条数据?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(o.a.mark(function a(){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.user.student.delete({id:e.id});case 2:1===(i=a.sent).code?(t.$message({type:"success",message:"删除成功!"}),t.pullData()):t.$message({type:"error",message:i.message});case 4:case"end":return a.stop()}},a,t)})))},submitForm:function(){var e=this;this.buttonLoading=!0,this.$refs.replayForm.submitForm(function(){e.replayDialogFormVisible=!1,e.pullData()})},batchSubmitForm:function(){var e=this;this.buttonLoading=!0,this.$refs.batchReplayForm.submitForm(function(){e.batchReplayDialogFormVisible=!1})},handleSelectionChange:function(e){this.multipleSelection=e},changeLoading:function(){this.buttonLoading=!1},getSelect:function(){this.$set(this.pageSet,"currentPage",1),this.pullData()},resetForm:function(e){this.$refs[e].resetFields(),this.$set(this.pageSet,"currentPage",1),this.pullData()},handleCurrentChange:function(e){this.$set(this.pageSet,"currentPage",e),this.pullData()}}}),k=(a("HNE5"),Object(f.a)(x,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-container"},[a("div",{staticClass:"search-box-public"},[a("el-form",{ref:"refFormName",attrs:{inline:!0,model:e.formData,size:"mini"}},[a("el-row",[a("el-form-item",{attrs:{label:"应用名",prop:"appName"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.appName,callback:function(t){e.$set(e.formData,"appName","string"==typeof t?t.trim():t)},expression:"formData.appName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"TraceId",prop:"traceId"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.traceId,callback:function(t){e.$set(e.formData,"traceId","string"==typeof t?t.trim():t)},expression:"formData.traceId"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getSelect()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.batchReplay()}}},[e._v("批量回放")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"table-box-public"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{border:"",data:e.tableData,stripe:!0,height:"100%"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"编号",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"应用名",width:"230",prop:"appName"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"流量入口","show-overflow-tooltip":"",width:"300",prop:"entranceDesc"}}),e._v(" "),a("el-table-column",{attrs:{label:"TraceID",width:"240",prop:"traceId"}}),e._v(" "),a("el-table-column",{attrs:{label:"环境",width:"100",prop:"environment"}}),e._v(" "),a("el-table-column",{attrs:{label:"Host",width:"150",prop:"host"}}),e._v(" "),a("el-table-column",{attrs:{label:"录制时间",prop:"gmtRecord",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.gmtRecord))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.moduleDetail(t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.replayDetail(t.row)}}},[e._v("回放")])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticClass:"pagination-style-public",attrs:{"current-page":e.pageSet.currentPage,"page-sizes":[100,200,300,400],"page-size":e.pageSet.pageSize,total:e.pageSet.totalCount,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}}),e._v(" "),e.dialogFormVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.dialogFormVisible,title:e.title,"close-on-click-modal":!1,top:"5vh",width:"1000px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("flowDetail",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:function(t){e.replayDetail(e.dialogData)}}},[e._v("\n        回放\n      ")])],1)],1):e._e(),e._v(" "),e.replayDialogFormVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.replayDialogFormVisible,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.replayDialogFormVisible=t}}},[a("replayConfigDetail",{ref:"replayForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.replayDialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n        执行\n      ")])],1)],1):e._e(),e._v(" "),e.batchReplayDialogFormVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.batchReplayDialogFormVisible,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,width:"650px"},on:{"update:visible":function(t){e.batchReplayDialogFormVisible=t}}},[a("batchReplayConfig",{ref:"batchReplayForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.batchReplayDialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.batchSubmitForm}},[e._v("\n        执行\n      ")])],1)],1):e._e()],1)},[],!1,null,null,null));k.options.__file="flowList.vue";t.default=k.exports},"2+Ds":function(e,t,a){"use strict";var i=a("FXqN");a.n(i).a},"2yvm":function(e,t,a){"use strict";var i=a("qHKg");a.n(i).a},"3IeB":function(e,t,a){},"4AH3":function(e,t,a){},"4ZuL":function(e,t,a){},"5sUr":function(e,t,a){"use strict";var i=a("Kz5L");a.n(i).a},"8S4x":function(e,t,a){"use strict";a.r(t);var i=a("pRfh"),o=a.n(i),n=a("KN1l"),r=a.n(n),s=a("clYf"),l=a.n(s),c=a("Nlzp"),u=(a("8SHQ"),a("xPQb"),{name:"repeater",components:{},directives:{},data:function(){return{formData:{appName:null},tableData:[],pageSet:{currentPage:1,pageSize:this.$GConfig.pageSize,totalCount:0},buttonLoading:!1,closeOnClickModal:!1,dialogData:{},title:"",isLoading:!1,multipleSelection:[]}},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,c.a.repeater.getAllBatchHistory(r()({},e.pageSet,e.formData));case 3:1===(a=t.sent).code?(e.tableData=a.data,e.pageSet.totalCount=a.page.total>>0):e.$message({type:"error",message:a.message}),e.isLoading=!1;case 6:case"end":return t.stop()}},t,e)}))()},changeLoading:function(){this.buttonLoading=!1},getSelect:function(){this.$set(this.pageSet,"currentPage",1),this.pullData()},resetForm:function(e){this.$refs[e].resetFields(),this.$set(this.pageSet,"currentPage",1),this.pullData()},handleCurrentChange:function(e){this.$set(this.pageSet,"currentPage",e),this.pullData()}}}),d=(a("HXO4"),a("QYey")),p=Object(d.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-container"},[a("div",{staticClass:"search-box-public"},[a("el-form",{ref:"refFormName",attrs:{inline:!0,model:e.formData,size:"mini"}},[a("el-row",[a("el-form-item",{attrs:{label:"应用名",prop:"appName"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.appName,callback:function(t){e.$set(e.formData,"appName","string"==typeof t?t.trim():t)},expression:"formData.appName"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getSelect()}}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"table-box-public"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{border:"",data:e.tableData,stripe:!0,height:"100%"}},[a("el-table-column",{attrs:{fixed:"",label:"编号",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"应用名",width:"230",prop:"appName"}}),e._v(" "),a("el-table-column",{attrs:{label:"环境",width:"100",prop:"environment"}}),e._v(" "),a("el-table-column",{attrs:{label:"回放机器",width:"150",prop:"host"}}),e._v(" "),a("el-table-column",{attrs:{label:"回放时间",prop:"gmtCreate",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.gmtCreate))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"流量总数",width:"100",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"成功数",width:"100",prop:"successTotal"}}),e._v(" "),a("el-table-column",{attrs:{label:"失败数",width:"100",prop:"failedTotal"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"130"}})],1)],1),e._v(" "),a("el-pagination",{staticClass:"pagination-style-public",attrs:{"current-page":e.pageSet.currentPage,"page-sizes":[100,200,300,400],"page-size":e.pageSet.pageSize,total:e.pageSet.totalCount,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)},[],!1,null,null,null);p.options.__file="batchHistory.vue";t.default=p.exports},"BJL/":function(e,t,a){"use strict";var i=a("uB8n"),o=a.n(i),n=a("KN1l"),r=a.n(n),s=a("pRfh"),l=a.n(s),c=a("clYf"),u=a.n(c),d=a("Nlzp"),p={props:{dialogData:{type:Object,default:function(){}}},data:function(){return{isUploadLoading:!1,info:{config:{javaEntranceBehaviors:[],javaSubInvokeBehaviors:[],useTtl:!0,degrade:!1,pluginsPath:null,repeatIdentities:["java","http"],exceptionThreshold:1e3}},policeStations:[],formRules:{env:[{required:!0,message:"必填项",trigger:"blur"}],appName:[{required:!0,message:"必填项",trigger:"blur"}]},isloading:!1,pluginsList:["http","dubbo-consumer","dubbo-provider","java-entrance","java-subInvoke","mybatis","redis","ibatis"]}},computed:{isEdit:function(){return!(!this.dialogData||!this.dialogData.id)}},watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){var e=this;return u()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.pullData();case 1:case"end":return t.stop()}},t,e)}))()},methods:{pullData:function(){null!=this.dialogData&&(null==this.dialogData.sandboxId?this.info.sandboxId=this.dialogData.id:this.info=this.dialogData)},addSubItem:function(e){switch(e){case"javaEntranceBehaviors":this.info.config.javaEntranceBehaviors.push({classPattern:"",methodPatterns:[],includeSubClasses:!1});break;case"javaSubInvokeBehaviors":this.info.config.javaSubInvokeBehaviors.push({classPattern:"",methodPatterns:[],includeSubClasses:!1});break;default:alert("类型不存在，无法添加")}},delSubItem:function(e,t){switch(e){case"javaEntranceBehaviors":this.info.config.javaEntranceBehaviors.splice(t,1);break;case"javaSubInvokeBehaviors":this.info.config.javaSubInvokeBehaviors.splice(t,1);break;default:alert("类型不存在，无法删除")}},resetForm:function(){this.$refs.refForm.resetFields()},submitForm:function(e){var t=this;this.$refs.refForm.validate(function(){var a=u()(l.a.mark(function a(i){var n,s;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=11;break}return(n=r()({},t.info)).config=o()(t.info.config),a.next=5,d.a.repeater.insertOrUpdate(n);case 5:return s=a.sent,t.$emit("changeLoading"),1===s.code?(t.$message({type:"success",message:"提交成功!"}),e(s)):t.$message({type:"error",message:s.message}),a.abrupt("return",!0);case 11:return t.$emit("changeLoading"),a.abrupt("return",!1);case 13:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}())}}},f=(a("sv11"),a("QYey")),m=Object(f.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public",staticStyle:{height:"600px"}},[a("el-form",{ref:"refForm",attrs:{inline:!0,model:e.info,rules:e.formRules,size:"mini","label-width":"130px"}},[a("el-form-item",{attrs:{label:"环境名:",prop:"env"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入环境名称"},model:{value:e.info.env,callback:function(t){e.$set(e.info,"env","string"==typeof t?t.trim():t)},expression:"info.env"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用名:",prop:"appName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入应用名称"},model:{value:e.info.appName,callback:function(t){e.$set(e.info,"appName","string"==typeof t?t.trim():t)},expression:"info.appName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采样率:",prop:"sampleRate"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入正整数"},model:{value:e.info.config.sampleRate,callback:function(t){e.$set(e.info.config,"sampleRate","string"==typeof t?t.trim():t)},expression:"info.config.sampleRate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"http入口:",prop:"httpEntrance"}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","no-data-text":"请输入","default-first-option":"",placeholder:"支持正则"},model:{value:e.info.config.httpEntrancePatterns,callback:function(t){e.$set(e.info.config,"httpEntrancePatterns",t)},expression:"info.config.httpEntrancePatterns"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"启用插件:",prop:"pluginIdentities"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{size:"medium",multiple:"",filterable:"","allow-create":"","no-data-text":"请输入","default-first-option":"",placeholder:"支持正则"},model:{value:e.info.config.pluginIdentities,callback:function(t){e.$set(e.info.config,"pluginIdentities",t)},expression:"info.config.pluginIdentities"}},e._l(e.pluginsList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"java入口:",prop:"javaEntranceBehaviors"}},[a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"xx-large",color:"#8080806b",displat:"block",cursor:"pointer"},on:{click:function(t){e.addSubItem("javaEntranceBehaviors")}}}),e._v(" "),e._l(e.info.config.javaEntranceBehaviors,function(t,i){return e._t("default",[a("el-row",{staticStyle:{width:"300px","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)",padding:"10px","margin-bottom":"10px",background:"#8080801c"}},[a("el-col",[a("label",{staticStyle:{color:"#5a524591"}},[e._v("类名：")])]),e._v(" "),a("el-col",[a("el-input",{staticStyle:{width:"280px"},attrs:{type:"textarea",autosize:"",clearable:"",placeholder:"支持通配符表达式"},model:{value:t.classPattern,callback:function(a){e.$set(t,"classPattern","string"==typeof a?a.trim():a)},expression:"item.classPattern"}})],1),e._v(" "),a("el-col",[a("label",{staticStyle:{color:"#5a524591"}},[e._v("方法名：")])]),e._v(" "),a("el-col",[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"medium",multiple:"",filterable:"","allow-create":"","no-data-text":"请输入","default-first-option":"",placeholder:"支持通配符表达式"},model:{value:t.methodPatterns,callback:function(a){e.$set(t,"methodPatterns",a)},expression:"item.methodPatterns"}})],1),e._v(" "),a("el-col",[a("el-checkbox",{model:{value:t.includeSubClasses,callback:function(a){e.$set(t,"includeSubClasses",a)},expression:"item.includeSubClasses"}},[e._v("是否包含子类")])],1),e._v(" "),a("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"xx-large",color:"#8080806b",position:"absolute",top:"45%",right:"-12%",cursor:"pointer"},on:{click:function(t){e.delSubItem("javaEntranceBehaviors",i)}}})],1)])})],2),e._v(" "),a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"java子调用:",prop:"javaSubInvokeBehaviors"}},[a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"xx-large",color:"#8080806b",displat:"block",cursor:"pointer"},on:{click:function(t){e.addSubItem("javaSubInvokeBehaviors")}}}),e._v(" "),e._l(e.info.config.javaSubInvokeBehaviors,function(t,i){return e._t("default",[a("el-row",{staticStyle:{width:"300px","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)",padding:"10px","margin-bottom":"10px",background:"rgb(152 212 206 / 24%)"}},[a("el-col",[a("label",{staticStyle:{color:"#5a524591"}},[e._v("类名：")]),a("el-input",{staticStyle:{width:"280px"},attrs:{type:"textarea",autosize:"",clearable:"",placeholder:"支持正则表达式"},model:{value:t.classPattern,callback:function(a){e.$set(t,"classPattern","string"==typeof a?a.trim():a)},expression:"item.classPattern"}})],1),e._v(" "),a("el-col",[a("label",{staticStyle:{color:"#5a524591"}},[e._v("方法名：")]),e._v(" "),a("el-select",{staticStyle:{width:"100%"},attrs:{size:"medium",multiple:"",filterable:"","allow-create":"","no-data-text":"请输入","default-first-option":"",placeholder:"支持正则"},model:{value:t.methodPatterns,callback:function(a){e.$set(t,"methodPatterns",a)},expression:"item.methodPatterns"}})],1),e._v(" "),a("el-col",[a("el-checkbox",{model:{value:t.includeSubClasses,callback:function(a){e.$set(t,"includeSubClasses",a)},expression:"item.includeSubClasses"}},[e._v("是否包含子类")])],1),e._v(" "),a("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"xx-large",color:"#8080806b",position:"absolute",top:"45%",right:"-12%",cursor:"pointer"},on:{click:function(t){e.delSubItem("javaSubInvokeBehaviors",i)}}})],1)])})],2)],1)],1)},[],!1,null,null,null);m.options.__file="addEdit.vue";t.a=m.exports},C7Pp:function(e,t,a){"use strict";var i=a("I+Av");a.n(i).a},DGo3:function(e,t,a){},FXqN:function(e,t,a){},FnqH:function(e,t,a){"use strict";var i=a("4AH3");a.n(i).a},HNE5:function(e,t,a){"use strict";var i=a("xm7P");a.n(i).a},HXO4:function(e,t,a){"use strict";var i=a("3IeB");a.n(i).a},Hyjc:function(e,t,a){},"I+Av":function(e,t,a){},JNvw:function(e,t,a){"use strict";var i=a("gahj");a.n(i).a},Kz5L:function(e,t,a){},RU5X:function(e,t,a){},U6K3:function(e,t,a){"use strict";var i=a("+WJj");a.n(i).a},Vjg7:function(e,t,a){"use strict";var i=a("Hyjc");a.n(i).a},Vo22:function(e,t,a){},XbO6:function(e,t,a){"use strict";a.r(t);var i=a("pRfh"),o=a.n(i),n=a("KN1l"),r=a.n(n),s=a("clYf"),l=a.n(s),c=a("Nlzp"),u=a("ypfw"),d=a("pIae"),p={components:{jsonView:a.n(d).a},props:{dialogData:{type:Object,default:function(){}}},data:function(){return{record:{},replay:{},replay_info:[],isloading:!1,activeNames:["1","2"],record_activeName:"record_info",replay_activeName:"replay_info",ori_isJsonData:!1,isJsonData:!1,json:{}}},computed:{},watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isloading=!0,t.next=3,c.a.repeater.getReplayDetail(e.dialogData);case 3:1!==(a=t.sent).code?e.$message(a.message):(console.log(a.data),e.record=a.data.record?a.data.record:{},e.replay=a.data.replay?a.data.replay:{},e.replay&&e.replay_info.push(e.replay)),e.isloading=!1;case 6:case"end":return t.stop()}},t,e)}))()},recordHandleClick:function(e,t){switch(e.name){case"record_req":if("string"==typeof this.record.request){var a=this.string2json(this.record.request);this.isJsonData&&(this.record.request=a)}else this.isJsonData=!0;break;case"record_res":if("string"==typeof this.record.response){var i=this.string2json(this.record.response);this.isJsonData&&(this.record.response=i)}else this.isJsonData=!0;break;case"record_subInvoke":if("string"==typeof this.record.subInvocations){var o=this.string2json(this.record.subInvocations);this.isJsonData&&(this.record.subInvocations=o)}else this.isJsonData=!0}},string2json:function(e){var t=null;try{t=JSON.parse(e),this.isJsonData=!0}catch(e){this.isJsonData=!1}return t},replayHandleClick:function(e,t){if("replay_result_diff"===e.name){if("string"==typeof this.record.response){var a=this.string2json(this.record.response);this.isJsonData&&(this.record.response=a)}if("string"==typeof this.replay.response){var i=this.string2json(this.replay.response);this.isJsonData&&(this.replay.response=i)}else this.isJsonData=!0}},resetForm:function(){},convertCost:function(e){console.log(e)}}},f=(a("C7Pp"),a("QYey")),m=Object(f.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public",staticStyle:{height:"600px"}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("el-tag",{attrs:{effect:"dark",size:"medium"}},[e._v("调用快照")])],1),e._v(" "),[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.recordHandleClick},model:{value:e.record_activeName,callback:function(t){e.record_activeName=t},expression:"record_activeName"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"record_info"}},[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticClass:"tittle",attrs:{span:2,offset:2}},[e._v("应用名")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v(e._s(this.record.appName))]),e._v(" "),a("el-col",{staticClass:"tittle",attrs:{span:2}},[e._v("流量入口")]),e._v(" "),a("el-col",{attrs:{span:10}},[e._v(e._s(this.record.entranceDesc))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"tittle",attrs:{span:2,offset:2}},[e._v("录制机器")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v(e._s(this.record.host))]),e._v(" "),a("el-col",{staticClass:"tittle",attrs:{span:2}},[e._v("TraceId\t")]),e._v(" "),a("el-col",{attrs:{span:10}},[e._v(e._s(this.record.traceId))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"tittle",attrs:{span:2,offset:2}},[e._v("录制时间")]),e._v(" "),a("el-col",{attrs:{span:8}},[[e._v("\n                                  "+e._s(e.$util.formatDate(this.record.gmtCreate))+"\n                              ")]],2),e._v(" "),a("el-col",{staticClass:"tittle",attrs:{span:2}},[e._v("录制环境\t")]),e._v(" "),a("el-col",{attrs:{span:10}},[e._v(e._s(this.record.environment))])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"请求参数",name:"record_req"}},[e.isJsonData&&"record_req"==e.record_activeName?[a("json-view",{attrs:{data:this.record.request,deep:2,"line-height":20}})]:a("div",[e._v(e._s(this.record.request?this.record.request:"暂无数据"))])],2),e._v(" "),a("el-tab-pane",{attrs:{label:"返回结果",name:"record_res"}},[e.isJsonData&&"record_res"==e.record_activeName?[a("json-view",{attrs:{data:this.record.response,deep:2,"line-height":20}})]:a("div",[e._v(e._s(this.record.response?this.record.response:"暂无数据"))])],2),e._v(" "),a("el-tab-pane",{attrs:{label:"子调用信息",name:"record_subInvoke"}},[e.isJsonData&&"record_subInvoke"==e.record_activeName?[a("json-view",{attrs:{data:this.record.subInvocations,deep:2,"line-height":20}})]:a("div",[e._v(e._s(this.record.subInvocations?this.record.subInvocations:"暂无数据"))])],2)],1)]],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("el-tag",{attrs:{effect:"dark",size:"medium",type:"warning"}},[e._v("回放结果")])],1),e._v(" "),[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.replayHandleClick},model:{value:e.replay_activeName,callback:function(t){e.replay_activeName=t},expression:"replay_activeName"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"replay_info"}},[a("div",{staticClass:"table-box-public",staticStyle:{overflow:"hidden"}},[a("el-table",{attrs:{border:"",data:this.replay_info,stripe:!0,height:"100%"}},[a("el-table-column",{attrs:{fixed:"",label:"回放结果",width:"80",prop:"success"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.success?a("el-tag",{attrs:{type:"success"}},[e._v("成功")]):a("el-tag",{attrs:{type:"danger"}},[e._v("失败")])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"耗时",width:"60",prop:"cost"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                       "+e._s(t.row.cost>1e3?t.row.cost/1e3+"s":t.row.cost+"ms")+"\n                                   ")]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"执行环境\t","show-overflow-tooltip":"",width:"80",prop:"environment"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"执行机器",width:"120",prop:"ip"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"RepateId",prop:"repeatId"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"TraceId",prop:"traceId"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"执行时间",prop:"gmtCreate",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                      "+e._s(e.$util.formatDate(t.row.gmtCreate))+"\n                                  ")]}}])})],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"差异节点",name:"replay_diff"}},[e.isJsonData&&"replay_diff"==e.replay_activeName&&this.replay.differences.length>0?[a("json-view",{attrs:{data:this.replay.differences,deep:2,"line-height":20}})]:a("div",{staticStyle:{color:"green"}},[e._v("无差异节点...")])],2),e._v(" "),a("el-tab-pane",{attrs:{label:"结果diff",name:"replay_result_diff"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-tag",{attrs:{size:"mini",type:"success",effect:"dark"}},[e._v("\n                               预期结果\n                              ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-tag",{attrs:{size:"mini",type:"success",effect:"dark"}},[e._v("\n                               实际结果\n                              ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[e.isJsonData&&"replay_result_diff"==e.replay_activeName?[a("json-view",{attrs:{data:this.record.response,deep:2,"line-height":20}})]:a("div",[e._v(e._s(this.record.response?this.record.response:"暂无数据"))])],2),e._v(" "),a("el-col",{attrs:{span:12}},[e.isJsonData&&"replay_result_diff"==e.replay_activeName?[a("json-view",{attrs:{data:this.replay.response,deep:2,"line-height":20}})]:a("div",[e._v(e._s(this.record.response?this.record.response:"暂无数据"))])],2)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"MOCK过程",name:"replay_mockInfo"}},[a("div",{staticClass:"table-box-public",staticStyle:{overflow:"hidden"}},[a("el-table",{attrs:{border:"",data:this.replay.mockInvocations,stripe:!0,height:"100%"}},[a("el-table-column",{attrs:{fixed:"",label:"序号",type:"index",width:"45"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"录制identity","show-overflow-tooltip":"",width:"260",prop:"originUri"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"回放identity","show-overflow-tooltip":"",width:"260",prop:"currentUri"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"录制参数","show-overflow-tooltip":"",width:"170",prop:"originArgs"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"回放参数","show-overflow-tooltip":"",width:"170",prop:"currentArgs"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"耗时",width:"50",prop:"cost"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                       "+e._s(t.row.cost>1e3?t.row.cost/1e3+"s":t.row.cost+"ms")+"\n                                   ")]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"状态",prop:"success",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.success?a("el-tag",{attrs:{type:"success"}},[e._v("成功")]):a("el-tag",{attrs:{type:"danger"}},[e._v("失败")])]}}])})],1)],1)])],1)]],2)],1)],1)},[],!1,null,null,null);m.options.__file="replayDetail.vue";var g=m.exports,v=(a("8SHQ"),{name:"repeater",components:{replayDetail:g},directives:{elDragDialog:u.a},data:function(){return{formData:{appName:null,repeatId:null},tableData:[],pageSet:{currentPage:1,pageSize:this.$GConfig.pageSize,totalCount:0},buttonLoading:!1,closeOnClickModal:!1,dialogFormVisible:!1,replayDialogFormVisible:!1,innerVisible:!1,dialogData:{},title:"",isLoading:!1,handleSelectionChange:[]}},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,c.a.repeater.getReplayList(r()({},e.pageSet,e.formData));case 3:1===(a=t.sent).code?(e.tableData=a.data,e.pageSet.totalCount=a.page.total>>0):e.$message({type:"error",message:a.message}),e.isLoading=!1;case 6:case"end":return t.stop()}},t,e)}))()},replayDetail:function(e){var t=this;return l()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.isLoading=!0,t.dialogData={id:e.id},t.title="回放配置",t.$nextTick(function(){t.replayDialogFormVisible=!0}),t.isLoading=!1;case 5:case"end":return a.stop()}},a,t)}))()},moduleDetail:function(e){var t=this;this.isLoading=!0,this.dialogData={id:e.id},this.title="回放详情",this.$nextTick(function(){t.dialogFormVisible=!0}),this.isLoading=!1},submitForm:function(){var e=this;this.buttonLoading=!0,this.$refs.replayForm.submitForm(function(){e.replayDialogFormVisible=!1,e.pullData()})},changeLoading:function(){this.buttonLoading=!1},getSelect:function(){this.$set(this.pageSet,"currentPage",1),this.pullData()},resetForm:function(e){this.$refs[e].resetFields(),this.$set(this.pageSet,"currentPage",1),this.pullData()},handleCurrentChange:function(e){this.$set(this.pageSet,"currentPage",e),this.pullData()}}}),h=(a("Vjg7"),Object(f.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-container"},[a("div",{staticClass:"search-box-public"},[a("el-form",{ref:"refFormName",attrs:{inline:!0,model:e.formData,size:"mini"}},[a("el-row",[a("el-form-item",{attrs:{label:"应用名",prop:"appName"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.appName,callback:function(t){e.$set(e.formData,"appName","string"==typeof t?t.trim():t)},expression:"formData.appName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"RepeatId",prop:"repeatId"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.repeatId,callback:function(t){e.$set(e.formData,"repeatId","string"==typeof t?t.trim():t)},expression:"formData.repeatId"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getSelect()}}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"table-box-public"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{border:"",data:e.tableData,stripe:!0,height:"100%"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",label:"编号",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"执行状态",width:"85",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("el-tag",{attrs:{type:"info"}},[e._v("执行中")]):1==t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("已完成")]):2==t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("已失败")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"应用名",width:"230",prop:"appName"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"流量入口","show-overflow-tooltip":"",width:"300",prop:"entranceDesc"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"回放结果",width:"85",prop:"success"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.success?a("el-tag",{attrs:{type:"success"}},[e._v("成功")]):a("el-tag",{attrs:{type:"danger"}},[e._v("失败")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"RepateId",width:"240",prop:"repeatId"}}),e._v(" "),a("el-table-column",{attrs:{label:"回放环境",width:"100",prop:"environment"}}),e._v(" "),a("el-table-column",{attrs:{label:"Host",width:"150",prop:"ip"}}),e._v(" "),a("el-table-column",{attrs:{label:"回放时间",prop:"gmtCreate",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.gmtCreate))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.moduleDetail(t.row)}}},[e._v("回放详情")])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticClass:"pagination-style-public",attrs:{"current-page":e.pageSet.currentPage,"page-sizes":[100,200,300,400],"page-size":e.pageSet.pageSize,total:e.pageSet.totalCount,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}}),e._v(" "),e.dialogFormVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.dialogFormVisible,title:e.title,"close-on-click-modal":!1,top:"5vh",width:"1100px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("replayDetail",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1):e._e()],1)},[],!1,null,null,null));h.options.__file="replayList.vue";t.default=h.exports},b1rL:function(e,t,a){},bmHV:function(e,t,a){"use strict";var i=a("d/0N");a.n(i).a},"d/0N":function(e,t,a){},dSSv:function(e,t,a){"use strict";var i=a("Vo22");a.n(i).a},f4W9:function(e,t,a){"use strict";var i=a("vyYT");a.n(i).a},gahj:function(e,t,a){},qHKg:function(e,t,a){},"r/SQ":function(e,t,a){"use strict";var i=a("RU5X");a.n(i).a},sv11:function(e,t,a){"use strict";var i=a("b1rL");a.n(i).a},uOjd:function(e,t,a){"use strict";a.r(t);var i=a("pRfh"),o=a.n(i),n=a("KN1l"),r=a.n(n),s=a("clYf"),l=a.n(s),c=a("Nlzp"),u=a("ypfw"),d=a("BJL/"),p=(a("8SHQ"),{name:"repeater",components:{addEdit:d.a},directives:{elDragDialog:u.a},data:function(){return{formData:{env:null,appName:null},tableData:[],pageSet:{currentPage:1,pageSize:this.$GConfig.pageSize,totalCount:0},buttonLoading:!1,closeOnClickModal:!1,dialogFormVisible:!1,dialogData:{},title:"",isLoading:!1}},activated:function(){},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,c.a.repeater.getList(r()({},e.pageSet,e.formData));case 3:1===(a=t.sent).code?(e.tableData=a.data,e.pageSet.totalCount=a.page.total>>0):e.$message({type:"error",message:a.message}),e.isLoading=!1;case 6:case"end":return t.stop()}},t,e)}))()},pushConfig:function(e){var t=this;return l()(o.a.mark(function a(){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.next=3,c.a.repeater.pushConfig({id:e.id});case 3:1===(i=a.sent).code||t.$message({type:"error",message:i.message}),t.isLoading=!1;case 6:case"end":return a.stop()}},a,t)}))()},moduleDetail:function(e){var t=this;this.isLoading=!0,this.dialogData={id:e.id},this.title="模块信息",this.$nextTick(function(){t.dialogFormVisible=!0}),this.isLoading=!1},addEdit:function(e){var t=this,a=void 0;e&&((a=r()({},e)).config=JSON.parse(e.config)),this.dialogData=a||null,this.title="配置编辑页面",this.$nextTick(function(){t.dialogFormVisible=!0})},del:function(e){var t=this;this.$confirm("你确定要删除这条数据?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(o.a.mark(function a(){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.user.student.delete({id:e.id});case 2:1===(i=a.sent).code?(t.$message({type:"success",message:"删除成功!"}),t.pullData()):t.$message({type:"error",message:i.message});case 4:case"end":return a.stop()}},a,t)})))},submitForm:function(){var e=this;this.buttonLoading=!0,this.$refs.dialogForm.submitForm(function(){e.dialogFormVisible=!1,e.pullData()})},changeLoading:function(){this.buttonLoading=!1},getSelect:function(){this.$set(this.pageSet,"currentPage",1),this.pullData()},resetForm:function(e){this.$refs[e].resetFields(),this.$set(this.pageSet,"currentPage",1),this.pullData()},handleCurrentChange:function(e){this.$set(this.pageSet,"currentPage",e),this.pullData()}}}),f=(a("FnqH"),a("QYey")),m=Object(f.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-container"},[a("div",{staticClass:"search-box-public"},[a("el-form",{ref:"refFormName",attrs:{inline:!0,model:e.formData,size:"mini"}},[a("el-row",[a("el-form-item",{attrs:{label:"环境",prop:"env"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.env,callback:function(t){e.$set(e.formData,"env","string"==typeof t?t.trim():t)},expression:"formData.env"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用名",prop:"appName"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.appName,callback:function(t){e.$set(e.formData,"appName","string"==typeof t?t.trim():t)},expression:"formData.appName"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getSelect()}}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"table-box-public"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{border:"",data:e.tableData,stripe:!0,height:"100%"}},[a("el-table-column",{attrs:{fixed:"",label:"编号",width:"50",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"sandboxId",width:"85",prop:"sandboxId"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"环境","show-overflow-tooltip":"",width:"100",prop:"env"}}),e._v(" "),a("el-table-column",{attrs:{label:"应用名",width:"280","show-overflow-tooltip":"",prop:"appName"}}),e._v(" "),a("el-table-column",{attrs:{label:"配置信息",width:"300","show-overflow-tooltip":"",prop:"config"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.createTime))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",prop:"modifyTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.modifyTime))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.addEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.pushConfig(t.row)}}},[e._v("推送")])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticClass:"pagination-style-public",attrs:{"current-page":e.pageSet.currentPage,"page-sizes":[100,200,300,400],"page-size":e.pageSet.pageSize,total:e.pageSet.totalCount,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}}),e._v(" "),e.dialogFormVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.dialogFormVisible,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,top:"5vh",width:"600px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("addEdit",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n        确定\n      ")])],1)],1):e._e()],1)},[],!1,null,null,null);m.options.__file="list.vue";t.default=m.exports},"uUg+":function(e,t,a){"use strict";a.r(t);var i=a("pRfh"),o=a.n(i),n=a("KN1l"),r=a.n(n),s=a("clYf"),l=a.n(s),c=a("Nlzp"),u=a("ypfw"),d=a("uB8n"),p=a.n(d),f=a("Drt1"),m={props:{dialogData:{type:Object,default:function(){}}},data:function(){return{isUploadLoading:!1,info:{apps:[{appName:"",host:"host",port:""}]},policeStations:[],formRules:{env:[{required:!0,message:"必填项",trigger:"blur"}],projectName:[{required:!0,message:"必填项",trigger:"blur"}],projectUrl:[{required:!0,message:"必填项",trigger:"blur"}],repoId:[{required:!0,message:"必填项",trigger:"blur"}],apps:[{required:!0,message:"必填项",trigger:"blur"}],projectGroup:[{required:!0,message:"必填项",trigger:"blur"}]},isloading:!1}},computed:r()({isEdit:function(){return!(!this.dialogData||!this.dialogData.id)}},Object(f.b)(["userInfo"])),watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){var e=this;return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.pullData();case 1:case"end":return t.stop()}},t,e)}))()},methods:{handleAppDelete:function(e,t){this.info.apps.splice(e,1)},handleAppAdd:function(){!this.info.apps&&(this.info.apps=[]),this.info.apps.push({appName:"",host:"",port:""})},pullData:function(){this.info=this.dialogData?JSON.parse(p()(this.dialogData)):{apps:[{appName:"",host:"",port:""}]}},resetForm:function(){this.$refs.refForm.resetFields()},submitForm:function(e){var t=this;this.$refs.refForm.validate(function(){var a=l()(o.a.mark(function a(i){var n,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=10;break}return n=r()({},t.info),a.next=4,c.a.coverage.saveProejct(n);case 4:return s=a.sent,t.$emit("changeLoading"),1e4===s.code?(t.$message({type:"success",message:"提交成功!"}),e(s)):t.$message({type:"error",message:s.msg}),a.abrupt("return",!0);case 10:return t.$emit("changeLoading"),a.abrupt("return",!1);case 12:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}())}}},g=(a("U6K3"),a("QYey")),v=Object(g.a)(m,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public"},[a("el-form",{ref:"refForm",attrs:{inline:!0,model:e.info,rules:e.formRules,size:"mini","label-width":"130px"}},[e.info.id?a("el-form-item",{attrs:{label:"id",prop:"id"}},[a("el-input",{attrs:{clearable:"",disabled:!0},model:{value:e.info.id,callback:function(t){e.$set(e.info,"id","string"==typeof t?t.trim():t)},expression:"info.id"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"环境",prop:"env"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入环境名称"},model:{value:e.info.env,callback:function(t){e.$set(e.info,"env","string"==typeof t?t.trim():t)},expression:"info.env"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仓库id",prop:"repoId"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入仓库id"},model:{value:e.info.repoId,callback:function(t){e.$set(e.info,"repoId","string"==typeof t?t.trim():t)},expression:"info.repoId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属项目组",prop:"projectGroup"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入项目组名称"},model:{value:e.info.projectGroup,callback:function(t){e.$set(e.info,"projectGroup","string"==typeof t?t.trim():t)},expression:"info.projectGroup"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工程名称",prop:"projectName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入工程名称"},model:{value:e.info.projectName,callback:function(t){e.$set(e.info,"projectName","string"==typeof t?t.trim():t)},expression:"info.projectName"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"仓库地址",prop:"projectUrl"}},[a("el-input",{staticStyle:{width:"550px"},attrs:{clearable:"",placeholder:"请输入工程的仓库http地址"},model:{value:e.info.projectUrl,callback:function(t){e.$set(e.info,"projectUrl","string"==typeof t?t.trim():t)},expression:"info.projectUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"子应用"}},[a("el-button",{attrs:{type:"success",round:""},on:{click:function(t){e.handleAppAdd()}}},[e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.info.apps}},[a("el-table-column",{attrs:{label:"应用名",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{clearable:"",placeholder:"请输入应用名"},model:{value:t.row.appName,callback:function(a){e.$set(t.row,"appName","string"==typeof a?a.trim():a)},expression:"scope.row.appName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"host",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{clearable:"",placeholder:"请输入应用ip地址"},model:{value:t.row.host,callback:function(a){e.$set(t.row,"host","string"==typeof a?a.trim():a)},expression:"scope.row.host"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"port",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{clearable:"",placeholder:"jacoco端口号"},model:{value:t.row.port,callback:function(a){e.$set(t.row,"port","string"==typeof a?a.trim():a)},expression:"scope.row.port"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"includes",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",clearable:"",placeholder:"匹配通配符表达式"},model:{value:t.row.includes,callback:function(a){e.$set(t.row,"includes","string"==typeof a?a.trim():a)},expression:"scope.row.includes"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"excludes",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",clearable:"",placeholder:"排除通配符表达式"},model:{value:t.row.excludes,callback:function(a){e.$set(t.row,"excludes","string"==typeof a?a.trim():a)},expression:"scope.row.excludes"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleAppDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1)},[],!1,null,"579e9258",null);v.options.__file="edit.vue";var h=v.exports,b={props:{dialogData:{type:Object,default:function(){}}},data:function(){return{isUploadLoading:!1,info:{apps:[{appName:"",host:"host",port:""}]},policeStations:[],formRules:{},isloading:!1,apps:[],status:-1,statusEnum:{"未收集":0,"开始收集":1,"暂停收集":2,"继续收集":1,"结束收集":3}}},computed:r()({isEdit:function(){return!(!this.dialogData||!this.dialogData.id)}},Object(f.b)(["userInfo"])),watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){var e=this;return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.pullData();case 1:case"end":return t.stop()}},t,e)}))()},methods:{checkSelectable:function(e,t){return!0},handleSelectionChange:function(e){this.apps=e},pullData:function(){this.info=this.dialogData?JSON.parse(p()(this.dialogData)):{apps:[{appName:"",host:"",port:""}]},this.$nextTick(function(){var e=this;this.info.apps.forEach(function(t,a){t.status?e.$refs.multipleTable.toggleRowSelection(t,!0):e.$refs.multipleTable.toggleRowSelection(t,!1)})})},resetForm:function(){this.$refs.refForm.resetFields()},submitForm:function(e){var t=this;this.$refs.refForm.validate(function(){var a=l()(o.a.mark(function a(i){var n,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=17;break}if((n={}).projectId=t.info.id,n.status=t.statusEnum[t.status],n.apps=t.apps,0!=n.apps.length){a.next=9;break}return t.$message({type:"error",message:"请先勾选应用!"}),t.$emit("changeLoading"),a.abrupt("return",!1);case 9:return a.next=11,c.a.coverage.collectStatus(n);case 11:return r=a.sent,t.$emit("changeLoading"),1e4===r.code?(t.$message({type:"success",message:"提交成功!"}),e(r)):t.$message({type:"error",message:r.msg}),a.abrupt("return",!0);case 17:return t.$emit("changeLoading"),a.abrupt("return",!1);case 19:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}())}}},_=(a("1i7/"),Object(g.a)(b,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public"},[a("el-form",{ref:"refForm",attrs:{inline:!0,model:e.info,rules:e.formRules,size:"mini","label-width":"130px"}},[a("el-form-item",{attrs:{label:"选择应用"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.info.apps},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.checkSelectable}}),e._v(" "),a("el-table-column",{attrs:{prop:"appName",label:"全选",width:"100%"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作"}},[a("div",[a("el-radio-group",{attrs:{size:"small"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("el-radio-button",{attrs:{label:"开始收集",disabled:0!=e.info.collectStatus}}),e._v(" "),a("el-radio-button",{attrs:{label:"暂停收集",disabled:0==e.info.collectStatus||2==e.info.collectStatus}}),e._v(" "),a("el-radio-button",{attrs:{label:"继续收集",disabled:2!=e.info.collectStatus}}),e._v(" "),a("el-radio-button",{attrs:{label:"结束收集",disabled:0==e.info.collectStatus}})],1)],1)])],1)],1)},[],!1,null,"053bf607",null));_.options.__file="collectData.vue";var y=_.exports,w={props:{dialogData:{type:Object,default:function(){}}},data:function(){return{isUploadLoading:!1,info:{apps:[{appName:"",host:"host",port:""}]},policeStations:[],isloading:!1,data:{projectId:0,reportType:"",diffType:-1,oldVersion:""},formRules:{reportType:[{required:!0,message:"必填项",trigger:"change"}]},oldVersionList:[],baseVersionList:{branchList:[],commitList:[]}}},computed:r()({isEdit:function(){return!(!this.dialogData||!this.dialogData.id)}},Object(f.b)(["userInfo"])),watch:{dialogData:function(){var e=this;this.$nextTick(function(){e.dialogData=e.dialogData,e.resetForm(),e.pullData()})}},mounted:function(){var e=this;return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.pullData();case 1:case"end":return t.stop()}},t,e)}))()},methods:{chageDiffType:function(e){this.oldVersionList=0==e?this.baseVersionList.branchList:this.baseVersionList.commitList},getBaseVersionList:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.coverage.getBranchList({projectId:e.data.projectId});case 2:return 1e4===(a=t.sent).code?e.baseVersionList.branchList=a.data:e.$message({type:"error",message:a.msg}),t.next=6,c.a.coverage.getCommitList({projectId:e.data.projectId});case 6:1e4===(a=t.sent).code?e.baseVersionList.commitList=a.data.splice(0,20):e.$message({type:"error",message:a.msg});case 8:case"end":return t.stop()}},t,e)}))()},pullData:function(){this.info=this.dialogData?JSON.parse(p()(this.dialogData)):{apps:[{appName:"",host:"",port:""}]},this.data.projectId=this.info.id,this.getBaseVersionList()},resetForm:function(){this.$refs.refForm.resetFields()},submitForm:function(e){var t=this;this.$refs.refForm.validate(function(){var a=l()(o.a.mark(function a(i){var n,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=10;break}return n=r()({},t.data),a.next=4,c.a.coverage.generateReport(n);case 4:return s=a.sent,t.$emit("changeLoading"),1e4===s.code?(t.$message({type:"success",message:"提交成功!"}),e(s)):t.$message({type:"error",message:s.msg}),a.abrupt("return",!0);case 10:return t.$emit("changeLoading"),a.abrupt("return",!1);case 12:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}())}}},x=(a("JNvw"),Object(g.a)(w,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"dialog-box-public"},[a("el-form",{ref:"refForm",attrs:{inline:!0,model:e.data,rules:e.formRules,size:"mini","label-width":"130px"}},[a("el-form-item",{attrs:{label:"报告类型",prop:"reportType"}},[a("div",[a("el-radio-group",{attrs:{size:"small"},model:{value:e.data.reportType,callback:function(t){e.$set(e.data,"reportType",t)},expression:"data.reportType"}},[a("el-radio",{attrs:{label:"0",border:""}},[e._v("全量")]),e._v(" "),a("el-radio",{attrs:{label:"1",border:""}},[e._v("增量")])],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"diff类型"}},[a("div",[a("el-radio-group",{attrs:{size:"small",disabled:0==e.data.reportType},on:{change:function(t){e.chageDiffType(e.data.diffType)}},model:{value:e.data.diffType,callback:function(t){e.$set(e.data,"diffType",t)},expression:"data.diffType"}},[a("el-radio",{attrs:{label:"0",border:""}},[e._v("分支diff")]),e._v(" "),a("el-radio",{attrs:{label:"1",border:""}},[e._v("commitId diff")])],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"基线版本"}},[[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:0==e.data.reportType},model:{value:e.data.oldVersion,callback:function(t){e.$set(e.data,"oldVersion",t)},expression:"data.oldVersion"}},e._l(e.oldVersionList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))]],2),e._v(" "),a("el-form-item",{attrs:{label:"目标版本"}},[a("el-input",{attrs:{disabled:"",value:"暂时不显示"}})],1)],1)],1)},[],!1,null,"15d6c909",null));x.options.__file="report.vue";var k=x.exports,D=(a("8SHQ"),{name:"coverage",components:{edit:h,collectDataView:y,reprotView:k},directives:{elDragDialog:u.a},data:function(){return{formData:{env:null,projectGroup:null,projectName:null},tableData:[],pageSet:{currentPage:1,pageSize:this.$GConfig.pageSize,projectId:0,totalCount:0},buttonLoading:!1,closeOnClickModal:!1,dialogFormVisible:!1,isEdit:!1,isCollectEdit:!1,isReportEdit:!1,dialogData:{},title:"",isLoading:!1}},activated:function(){},mounted:function(){this.pullData()},methods:{pullData:function(){var e=this;return l()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,c.a.coverage.getList(r()({},e.pageSet,e.formData));case 3:1e4===(a=t.sent).code?(e.tableData=a.data.records,e.pageSet.totalCount=a.total>>0):e.$message({type:"error",message:a.message}),e.isLoading=!1;case 6:case"end":return t.stop()}},t,e)}))()},generageReport:function(e){var t=this;this.isLoading=!0,this.dialogData=e||null,this.title="生成报告",this.$nextTick(function(){t.isReportEdit=!0,t.isEdit=!1}),this.isLoading=!1},viewReport:function(e){var t=this;return l()(o.a.mark(function a(){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.next=3,c.a.coverage.getReportUri({id:e.id});case 3:1e4===(i=a.sent).code?window.open(i.data,"_blank"):t.$message({type:"error",message:i.msg}),t.isLoading=!1;case 6:case"end":return a.stop()}},a,t)}))()},coverageEdit:function(e){var t=this;this.dialogData=e||null,this.title="详情",this.$nextTick(function(){t.dialogFormVisible=!0,t.isEdit=!0})},collectData:function(e){var t=this;this.dialogData=e||null,this.title="收集数据",this.$nextTick(function(){t.isCollectEdit=!0})},submitForm:function(){var e=this;this.buttonLoading=!0,this.$refs.dialogForm.submitForm(function(){e.dialogFormVisible=!1,e.isEdit=!1,e.isCollectEdit=!1,e.isReportEdit=!1,e.pullData()})},changeLoading:function(){this.buttonLoading=!1},getSelect:function(){this.$set(this.pageSet,"currentPage",1),this.pullData()},resetForm:function(e){this.$refs[e].resetFields(),this.$set(this.pageSet,"currentPage",1),this.pullData()},handleCurrentChange:function(e){this.$set(this.pageSet,"currentPage",e),this.pullData()}}}),S=(a("r/SQ"),Object(g.a)(D,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-container"},[a("div",{staticClass:"search-box-public"},[a("el-form",{ref:"refFormName",attrs:{inline:!0,model:e.formData,size:"mini"}},[a("el-row",[a("el-form-item",{attrs:{label:"环境",prop:"env"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.env,callback:function(t){e.$set(e.formData,"env","string"==typeof t?t.trim():t)},expression:"formData.env"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属项目组",prop:"projectGroup"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.projectGroup,callback:function(t){e.$set(e.formData,"projectGroup","string"==typeof t?t.trim():t)},expression:"formData.projectGroup"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工程名称",prop:"projectName"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{clearable:"",placeholder:"请输入关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getSelect()}},model:{value:e.formData.projectName,callback:function(t){e.$set(e.formData,"projectName","string"==typeof t?t.trim():t)},expression:"formData.projectName"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getSelect()}}},[e._v("查询")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("add"),expression:"$getBtnCode('add')"}],attrs:{size:"mini",type:"primary"},on:{click:function(t){e.coverageEdit()}}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"table-box-public"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{border:"",data:e.tableData,stripe:!0,height:"100%"}},[a("el-table-column",{attrs:{fixed:"",label:"编号",width:"50",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"环境","show-overflow-tooltip":"",width:"100",prop:"env"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属项目组",width:"100","show-overflow-tooltip":"",prop:"projectGroup"}}),e._v(" "),a("el-table-column",{attrs:{label:"工程名称",width:"280","show-overflow-tooltip":"",prop:"projectName"}}),e._v(" "),a("el-table-column",{attrs:{label:"收集状态",width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.collectStatus?a("el-tag",{attrs:{type:"info"}},[e._v("未收集")]):e._e(),e._v(" "),1==t.row.collectStatus?a("el-tag",{attrs:{type:"danger"}},[e._v("收集中")]):e._e(),e._v(" "),2==t.row.collectStatus?a("el-tag",{attrs:{type:"warning"}},[e._v("暂停收集")]):e._e(),e._v(" "),3==t.row.collectStatus?a("el-tag",{attrs:{type:"success"}},[e._v("收集结束")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"报告状态",width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.reportStatus?a("el-tag",{attrs:{type:"info"}},[e._v("未生成")]):e._e(),e._v(" "),1==t.row.reportStatus?a("el-tag",{attrs:{type:"danger"}},[e._v("生成中")]):e._e(),e._v(" "),2==t.row.reportStatus?a("el-tag",{attrs:{type:"success"}},[e._v("生成成功")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.addTime))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",prop:"modifyTime",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.$util.formatDate(t.row.lastTime))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.collectData(t.row)}}},[e._v("收集数据\n          ")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.generageReport(t.row)}}},[e._v("生成报告")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.viewReport(t.row)}}},[e._v("查看报告")]),e._v(" "),a("el-button",{directives:[{name:"bt-power",rawName:"v-bt-power",value:e.$getBtnCode("edit"),expression:"$getBtnCode('edit')"}],attrs:{size:"mini",type:"text",width:"120"},on:{click:function(a){e.coverageEdit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticClass:"pagination-style-public",attrs:{"current-page":e.pageSet.currentPage,"page-sizes":[100,200,300,400],"page-size":e.pageSet.pageSize,total:e.pageSet.totalCount,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}}),e._v(" "),e.dialogFormVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.dialogFormVisible,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[e.isEdit?a("edit",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.dialogFormVisible=!1,e.isCollectEdit=!1}}},[e._v("取 消")]),e._v(" "),e.isEdit?a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n        确定\n      ")]):e._e()],1)],1):e._e(),e._v(" "),e.isCollectEdit?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.isCollectEdit,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,width:"550px"},on:{"update:visible":function(t){e.isCollectEdit=t}}},[e.isCollectEdit?a("collectDataView",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.isCollectEdit=!1,e.isCollectEdit=!1}}},[e._v("取 消")]),e._v(" "),e.isCollectEdit?a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n        确定\n      ")]):e._e()],1)],1):e._e(),e._v(" "),e.isReportEdit?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.isReportEdit,"append-to-body":!0,title:e.title,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.isReportEdit=t}}},[e.isReportEdit?a("reprotView",{ref:"dialogForm",attrs:{"dialog-data":e.dialogData},on:{changeLoading:e.changeLoading}}):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(){e.isReportEdit=!1,e.isReportEdit=!1}}},[e._v("取 消")]),e._v(" "),e.isReportEdit?a("el-button",{attrs:{loading:e.buttonLoading,type:"primary"},on:{click:e.submitForm}},[e._v("\n        确定\n      ")]):e._e()],1)],1):e._e()],1)},[],!1,null,"762074e2",null));S.options.__file="list.vue";t.default=S.exports},vyYT:function(e,t,a){},xPQb:function(e,t,a){"use strict";var i=a("Nlzp"),o={name:"ModifyPwd",data:()=>({info:{orgFee:null,studentFee:null,coachFee:null,refereeFee:null,athleteFee:null,examinerFee:null,otherProfessionalFee:null}}),created(){},mounted(){this.pullData()},methods:{async pullData(){this.isloading=!0;let e=await i.a.system.getCoastSet();1!==e.code?this.$message(e.message):this.info=e.object,this.isloading=!1},onSubmit(){const e=this;return e.isSubmiting?(e.$message({message:"请不要重复提交",type:"error"}),!1):(e.$refs.form.validate(t=>{t&&(e.isSubmiting=!0,i.a.system.setCoast({...this.info}).then(t=>{e.isSubmiting=!1,1===t.code?e.$message({message:"提交成功",type:"success"}):e.$message({message:t.message,type:"error"})},()=>{e.isSubmiting=!1}))}),!1)},resetForm(){this.$refs.form.resetFields()}}},n=(a("f4W9"),a("QYey")),r=Object(n.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-box-public"},[a("el-form",{ref:"form",staticClass:"mini-form",attrs:{model:e.info,"label-width":"180px",size:"medium"}},[a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"机构年费",prop:"orgFee"}},[a("el-input",{attrs:{placeholder:"请输入机构年费"},model:{value:e.info.orgFee,callback:function(t){e.$set(e.info,"orgFee",t)},expression:"info.orgFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"个体会员年费",prop:"studentFee"}},[a("el-input",{attrs:{placeholder:"请输入个体会员年费"},model:{value:e.info.studentFee,callback:function(t){e.$set(e.info,"studentFee",t)},expression:"info.studentFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"教员认证费用",prop:"coachFee"}},[a("el-input",{attrs:{placeholder:"请输入教员认证费用"},model:{value:e.info.coachFee,callback:function(t){e.$set(e.info,"coachFee",t)},expression:"info.coachFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"裁判员认证费用",prop:"refereeFee"}},[a("el-input",{attrs:{placeholder:"请输入裁判员认证费用"},model:{value:e.info.refereeFee,callback:function(t){e.$set(e.info,"refereeFee",t)},expression:"info.refereeFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"高水平运动员认证费用",prop:"athleteFee"}},[a("el-input",{attrs:{placeholder:"请输入高水平运动员认证费用"},model:{value:e.info.athleteFee,callback:function(t){e.$set(e.info,"athleteFee",t)},expression:"info.athleteFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"考官认证费用",prop:"examinerFee"}},[a("el-input",{attrs:{placeholder:"请输入考官认证费用"},model:{value:e.info.examinerFee,callback:function(t){e.$set(e.info,"examinerFee",t)},expression:"info.examinerFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"教师认证费用",prop:"teacherFee"}},[a("el-input",{attrs:{placeholder:"请输入教师认证费用"},model:{value:e.info.teacherFee,callback:function(t){e.$set(e.info,"teacherFee",t)},expression:"info.teacherFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"培训师认证费用",prop:"trainerFee"}},[a("el-input",{attrs:{placeholder:"请输入培训师认证费用"},model:{value:e.info.trainerFee,callback:function(t){e.$set(e.info,"trainerFee",t)},expression:"info.trainerFee"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:this.filter_rules({required:!0,type:"money"}),label:"其他专业认证认证费用",prop:"otherProfessionalFee"}},[a("el-input",{attrs:{placeholder:"请输入其他专业认证认证费用"},model:{value:e.info.otherProfessionalFee,callback:function(t){e.$set(e.info,"otherProfessionalFee",t)},expression:"info.otherProfessionalFee"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},[],!1,null,"20a04794",null);r.options.__file="costSet.vue";r.exports},xm7P:function(e,t,a){},yetg:function(e,t,a){"use strict";var i=a("DGo3");a.n(i).a},ypfw:function(e,t,a){"use strict";var i={bind:function(e,t,a){var i=e.querySelector(".el-dialog__header"),o=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",o.style.cssText+=";top:0px;";var n=window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]};i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,r=e.clientY-i.offsetTop,s=o.offsetWidth,l=o.offsetHeight,c=document.body.clientWidth,u=document.body.clientHeight,d=o.offsetLeft,p=c-o.offsetLeft-s,f=o.offsetTop,m=u-o.offsetTop-l,g=n(o,"left"),v=n(o,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/%/g,"")/100),v=+document.body.clientHeight*(+v.replace(/%/g,"")/100)):(g=+g.replace(/\px/g,""),v=+v.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,n=e.clientY-r;-i>d?i=-d:i>p&&(i=p),-n>f?n=-f:n>m&&(n=m),o.style.cssText+=";left:"+(i+g)+"px;top:"+(n+v)+"px;",a.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},o=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(o)),i.install=o;t.a=i}}]);